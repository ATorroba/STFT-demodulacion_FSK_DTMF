# STFT-demodulacion_FSK_DTMF

El objetivo del trabajo final del laboratorio es la aplicación de la Transformada Fourier Local (STFT) a la demodulación de señales binarias-FSK (Frequency Shifting Key), incluyendo como caso particular la demodulación de señales DTMF (Dual-Tone Multi-Frequency)). En el caso de FSK binarias hay dos posibles frecuencias, f0 y f1, a utilizar y en la modulación se elige una u otra en función del valor de la señal binaria. En el caso de DTMF, la modulación es también FSK pero hay 7 posibles frecuencias a elegir y cada símbolo está compuesto por dos de ellas solamente. En ambas situaciones la demodulación se lleva a cabo mediante la STFT. No se admitirán soluciones que no involucren el uso de la STFT en la demodulación. El alumno ha de determinar la frecuencia/s que acarrea la señal en un instante de tiempo determinado (preferentemente el correspondiente a la mitad de la duración del símbolo) con ayuda de la función max(). Una vez determinado el máximo, es decir, la frecuencia/s presente/s, tendremos el bit al que corresponde que se irá introduciendo en un vector con todos los bits. Posteriormente el vector de bits será decodificado considerándolo como caracteres ASCII, en el caso de la modulación FSK-binaria, o como perteneciente a un símbolo del teclado telefónico, en el caso de la modulación DTMF.

Problema 1: Demodulación de una señal FSK binaria mediante la STFT

El alumno tendrá que leer de archivo la señal modulada FSK y deberá de decodificar el mensaje que acarrea. Para codificar el mensaje, cada uno de los caracteres ASCII se ha codificado con 8 bits/carácter para obtener una secuencia de 0 y 1 que luego se ha modulado a una señal FSK mediante la asignación de una frecuencia f0 para los ceros y otra f1 para los unos. Dentro del archivo a demodular se encuentran, además de los valores de la señal, los valores de f0 y f1 y fs (la frecuencia de muestreo), así como la velocidad de bits de la que puede extraerse el tamaño del bit. Con dichos parámetros y mediante la utilización de alguna herramienta que calcule la STFT, se podrá demodular la señal incógnita. Se utilizará como herramienta para calcular la STFT la función spectrogram() de MATLAB. Véase el help de MATLAB para el uso de ésa y otras funciones.

Problema 2: Demodulación de una señal DTMF mediante la STFT

Una señal DTMF (es una señal FSK que en vez de utilizar dos frecuencias (y sólo una de ellas presente, como en el apartado anterior), se utilizan siete frecuencias posibles, si bien cada Time (ms) símbolo puede contener solamente dos frecuencias a la vez f1 y f2. A partir del contenido en frecuencia la tabla siguiente nos proporciona los diferentes símbolos. El teclado telefónico está en negrita en la tabla. El símbolo 0 contendrá aproximadamente las frecuencias de 956 Hz y 1368 Hz.
Conviene mencionar también que la modulación consiste en símbolos (dígitos) separados por silencios, siendo la duración de cada dígito 180 mseg. y la de cada silencio 90 mseg.
El alumno tendrá que leer de archivo/s con la señal modulada FSK y deberá de decodificar el mensaje que acarrea. El número de teléfono ha sido codificado de acuerdo con la tabla anterior de forma que cada dígito (símbolo) contiene dos frecuencias f1 y f2 que lo definen completamente en el esquema anterior. Dentro del archivo a demodular se encuentra, además de los valores de la señal, los valores de fs (la frecuencia de muestreo), Con dichos parámetros y mediante la utilización de alguna herramienta que calcule la STFT, se podrá demodular la señal incógnita. Se utilizará como herramienta para calcular la STFT la función spectrogram() de MATLAB. Véase el help de MATLAB para el uso de ésa y otras funciones.
